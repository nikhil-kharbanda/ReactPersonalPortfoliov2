import { useLayoutEffect, useRef } from 'react';
import gsap from 'gsap-trial';
import DrawSVGPlugin from 'gsap-trial/DrawSVGPlugin';
import LogoS from '../../../assets/images/logo-s.png';
import './index.scss';

const Logo = () => {

  const bgRef = useRef();
  const outlineLogoRef = useRef();
  const solidLogoRef = useRef();

  useLayoutEffect(() => {

    let ctx = gsap.context(() => {
      gsap.registerPlugin(DrawSVGPlugin)

      gsap
        .timeline()
        .to(bgRef.current, {
          duration: 1,
          opacity: 1,
        })
        .from('path', {
          drawSVG: 100,
          duration: 5,
        })

      gsap.fromTo(
        solidLogoRef.current,
        {
          opacity: 0,
        },
        {
          opacity: 1,
          delay: 6,
          duration: 4,
        }
      )
    });
    return () => ctx.revert();
  }, []);

  return (
    <div className="logo-container" ref={bgRef}>
      <img
        className="solid-logo"
        ref={solidLogoRef}
        src={LogoS}
        alt="JavaScript,  Developer"
      />

      <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
        width="406.000000pt" height="369.000000pt" viewBox="0 0 406.000000 369.000000"
        preserveAspectRatio="xMidYMid meet">

        <g transform="translate(0.000000,369.000000) scale(0.100000,-0.100000)"
          fill="#000000" stroke="none" className='svg-container'>
          <path ref={outlineLogoRef} d="M1180 3610 c-156 -20 -342 -73 -475 -135 -42 -19 -78 -35 -81 -35 -2
0 -35 -19 -72 -42 -96 -60 -225 -161 -310 -242 -104 -100 -252 -280 -240 -292
12 -11 36 12 83 77 67 94 259 279 373 359 187 132 364 207 632 266 117 26 407
26 530 0 130 -27 276 -74 365 -117 44 -22 86 -39 93 -39 10 0 12 -138 10 -690
-3 -650 0 -742 23 -659 4 13 7 326 8 694 l1 670 -78 33 c-139 61 -289 111
-394 132 -116 24 -361 34 -468 20z"/>
          <path ref={outlineLogoRef} d="M1334 3034 c3 -9 6 -621 6 -1360 l0 -1344 28 0 c15 0 33 -5 40 -12 9
-9 12 -9 12 3 0 17 69 154 111 219 15 25 35 65 44 89 8 23 23 54 33 69 23 32
135 243 174 327 16 33 33 67 38 75 5 8 36 66 70 127 l60 113 0 492 0 493 -32
30 c-17 17 -63 73 -101 125 -39 52 -107 138 -151 192 -45 53 -121 147 -171
208 -49 62 -101 126 -115 141 -27 31 -56 40 -46 13z m105 -146 c21 -29 87
-111 145 -183 59 -71 146 -182 195 -245 49 -64 99 -124 110 -134 21 -19 21
-26 21 -498 l0 -479 -61 -112 c-34 -62 -101 -188 -149 -282 -48 -93 -104 -197
-124 -229 -20 -33 -36 -64 -36 -69 0 -10 -138 -267 -151 -281 -5 -6 -9 527 -9
1277 0 823 3 1287 10 1287 5 0 27 -24 49 -52z"/>
          <path d="M1460 3040 c0 -6 7 -13 15 -16 8 -3 36 -38 62 -77 26 -40 68 -98 93
-131 25 -32 104 -144 175 -249 72 -105 135 -192 140 -194 7 -2 9 112 8 332
l-3 335 -245 5 c-166 4 -245 2 -245 -5z m323 -37 l127 -6 0 -255 0 -255 -88
129 c-48 71 -120 172 -158 224 -39 52 -81 112 -93 133 l-23 37 54 0 c29 0 110
-3 181 -7z"/>
          <path d="M3535 3042 l-490 -4 -44 -51 c-24 -29 -86 -97 -136 -152 -51 -55
-117 -127 -146 -160 -62 -70 -74 -82 -211 -231 -176 -189 -311 -340 -358 -399
-25 -31 -73 -83 -107 -115 -34 -32 -59 -61 -56 -64 4 -3 147 -6 320 -6 l313 0
108 87 c161 130 220 179 422 345 102 84 201 165 220 179 20 15 47 39 60 53 14
15 48 43 75 64 28 20 97 77 155 127 58 50 121 103 141 118 19 14 62 52 95 82
32 31 80 70 106 87 26 17 45 35 42 39 -3 5 -8 8 -12 7 -4 -2 -227 -4 -497 -6z
m365 -69 c-19 -15 -47 -39 -62 -54 -15 -15 -47 -42 -70 -60 -24 -18 -88 -72
-143 -119 -55 -47 -122 -103 -150 -125 -27 -22 -52 -42 -55 -46 -4 -5 -169
-142 -225 -186 -11 -9 -45 -37 -75 -63 -30 -26 -91 -76 -135 -111 -84 -67 -99
-79 -175 -144 -89 -75 -175 -142 -197 -153 -22 -12 -533 -17 -533 -6 0 3 20
27 44 53 24 25 56 61 72 80 30 35 58 65 245 270 63 68 136 149 163 180 27 31
74 83 106 116 32 33 75 80 96 105 21 25 66 74 100 110 33 36 84 91 114 123
l53 57 431 0 431 0 -35 -27z"/>
          <path d="M1970 1794 c0 -3 27 -34 60 -67 33 -34 60 -67 60 -74 0 -34 22 -15
61 52 30 51 50 75 63 75 13 0 17 -5 13 -17 -15 -48 -55 -151 -64 -168 -9 -16
-6 -25 22 -55 66 -71 181 -202 203 -233 13 -18 65 -79 117 -137 102 -114 156
-177 298 -345 52 -60 102 -117 112 -125 10 -8 35 -37 55 -65 20 -27 64 -79 96
-115 73 -82 115 -130 179 -208 l50 -61 368 0 c206 -1 367 3 367 8 0 5 -11 16
-24 25 -13 8 -57 53 -97 98 -39 46 -111 124 -159 173 -47 50 -93 100 -102 112
-8 13 -59 70 -114 127 -111 117 -286 305 -544 586 -58 63 -168 183 -245 266
l-140 152 -317 1 c-175 1 -318 -2 -318 -5z m160 -41 c0 -5 -7 -16 -14 -25 -12
-16 -15 -16 -36 7 l-23 25 36 0 c20 0 37 -3 37 -7z m512 -60 c63 -66 176 -186
235 -248 15 -17 66 -73 113 -125 47 -52 96 -105 110 -119 27 -29 120 -129 254
-275 50 -54 129 -140 176 -191 180 -194 280 -303 338 -370 l61 -70 -302 -3
-302 -3 -45 48 c-25 27 -65 73 -90 103 -25 30 -67 79 -95 111 -27 31 -74 85
-103 120 -30 35 -75 87 -101 114 -25 28 -58 66 -73 86 -15 20 -55 67 -90 106
-35 38 -79 89 -98 113 -19 24 -47 55 -61 69 -14 14 -64 71 -110 126 -47 55
-100 118 -119 139 -30 34 -105 122 -128 150 -7 9 11 71 46 159 l12 27 153 0
154 0 65 -67z"/>
          <path d="M2049 1581 c-38 -40 -63 -98 -57 -128 3 -12 17 7 39 52 18 39 35 72
37 75 2 3 10 -4 18 -14 25 -35 16 -79 -45 -202 -61 -123 -81 -179 -61 -172 6
2 33 48 60 103 l48 100 1 -567 1 -566 -66 -31 c-370 -173 -871 -189 -1231 -40
-143 60 -382 208 -458 284 -17 16 -55 50 -84 74 -29 25 -78 76 -108 115 -31
39 -61 76 -68 81 -6 6 -20 22 -29 37 -17 26 -46 38 -46 20 0 -5 22 -35 50 -66
28 -31 50 -60 50 -64 0 -18 206 -214 315 -299 113 -89 308 -191 462 -242 164
-54 311 -74 518 -68 194 5 313 22 440 64 80 26 264 100 277 112 12 11 11 1322
-1 1334 -6 6 -11 19 -11 29 0 27 -11 22 -51 -21z"/>
          <path d="M1932 1200 c1 -36 -8 -64 -44 -135 -62 -123 -145 -281 -177 -335 -30
-53 -85 -156 -135 -255 -19 -38 -46 -88 -59 -110 l-25 -40 229 -3 229 -4 2
439 c2 334 0 444 -9 463 -12 23 -13 22 -11 -20z m-22 -520 l0 -320 -164 0
c-91 0 -167 4 -170 9 -6 9 20 63 158 321 109 203 169 310 173 310 2 0 3 -144
3 -320z"/>
          <path d="M1462 285 c-11 -14 -28 -46 -39 -71 -13 -33 -22 -44 -35 -40 -23 5
-34 -12 -14 -20 26 -10 59 20 93 84 33 63 30 92 -5 47z"/>
          <path d="M1390 291 c-17 -7 -28 -101 -12 -101 10 0 36 83 31 98 -2 5 -11 7
-19 3z"/>
        </g>
      </svg>
    </div>
  )
}

export default Logo